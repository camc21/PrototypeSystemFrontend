{"ast":null,"code":"import _regeneratorRuntime from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useRouter } from 'next/router';\nvar baseUrl = \"http://localhost:8081\";\nexport var LoginDataService = {\n  logIn: logIn,\n  logOut: logOut,\n  isLogged: isLogged\n};\n\nfunction logIn(_x, _x2) {\n  return _logIn.apply(this, arguments);\n}\n\nfunction _logIn() {\n  _logIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(username, password) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              username: username,\n              password: password\n            };\n            axios.post(baseUrl + '/auth/signin', data, {}).then(function (response) {\n              console.log(response);\n              return response.data;\n            }).then(function (data) {\n              console.log(data);\n            })[\"catch\"](function (error) {\n              console.log(error.response.data.error);\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _logIn.apply(this, arguments);\n}\n\nfunction logOut() {\n  _s();\n\n  var router = useRouter();\n  localStorage.removeItem('accessToken');\n  router.push('/');\n}\n\n_s(logOut, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\nfunction isLogged() {\n  if (localStorage.getItem('accessToken') !== null && localStorage.getItem('accessToken') !== undefined) {\n    console.log('true');\n    return true;\n  }\n\n  console.log('false');\n  return false;\n}","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/services/LoginDataService.jsx"],"names":["axios","useRouter","baseUrl","LoginDataService","logIn","logOut","isLogged","username","password","data","post","then","response","console","log","error","router","localStorage","removeItem","push","getItem","undefined"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,IAAMC,OAAO,0BAAb;AAEE,OAAO,IAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,KAAK,EAALA,KAD8B;AAE9BC,EAAAA,MAAM,EAANA,MAF8B;AAG9BC,EAAAA,QAAQ,EAARA;AAH8B,CAAzB;;SAMQF,K;;;;;oEAAf,iBAAqBG,QAArB,EAA+BC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,IADN,GACa;AAACF,cAAAA,QAAQ,EAARA,QAAD;AAAWC,cAAAA,QAAQ,EAARA;AAAX,aADb;AAEER,YAAAA,KAAK,CAACU,IAAN,CAAWR,OAAO,GAAG,cAArB,EAAqCO,IAArC,EAA2C,EAA3C,EAA+CE,IAA/C,CAAoD,UAAAC,QAAQ,EAAI;AAC9DC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,qBAAOA,QAAQ,CAACH,IAAhB;AACD,aAHD,EAGGE,IAHH,CAGQ,UAAAF,IAAI,EAAI;AACdI,cAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACD,aALD,WAKS,UAAAM,KAAK,EAAG;AACfF,cAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACH,QAAN,CAAeH,IAAf,CAAoBM,KAAhC;AACD,aAPD;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYA,SAASV,MAAT,GAAkB;AAAA;;AAChB,MAAMW,MAAM,GAAGf,SAAS,EAAxB;AACAgB,EAAAA,YAAY,CAACC,UAAb,CAAwB,aAAxB;AACAF,EAAAA,MAAM,CAACG,IAAP,CAAY,GAAZ;AACD;;GAJQd,M;UACQJ,S;;;AAKjB,SAASK,QAAT,GAAoB;AAClB,MAAGW,YAAY,CAACG,OAAb,CAAqB,aAArB,MAAwC,IAAxC,IAAgDH,YAAY,CAACG,OAAb,CAAqB,aAArB,MAAwCC,SAA3F,EAAqG;AACnGR,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAO,IAAP;AACD;;AACDD,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAO,KAAP;AACD","sourcesContent":["import axios from \"axios\";\r\nimport { useRouter } from 'next/router'\r\n\r\nconst baseUrl = `http://localhost:8081`;\r\n\r\n  export const LoginDataService = {\r\n    logIn,\r\n    logOut,\r\n    isLogged,\r\n  };\r\n\r\n  async function logIn(username, password) {\r\n    let data = {username, password}\r\n    axios.post(baseUrl + '/auth/signin', data, {}).then(response => {\r\n      console.log(response);\r\n      return response.data;\r\n    }).then(data => {\r\n      console.log(data);\r\n    }).catch(error =>{\r\n      console.log(error.response.data.error);\r\n    })\r\n  }\r\n\r\n  function logOut() {\r\n    const router = useRouter();\r\n    localStorage.removeItem('accessToken');\r\n    router.push('/')\r\n  }\r\n\r\n  function isLogged() {\r\n    if(localStorage.getItem('accessToken') !== null && localStorage.getItem('accessToken') !== undefined){\r\n      console.log('true');\r\n      return true;\r\n    }\r\n    console.log('false');\r\n    return false;\r\n  }"]},"metadata":{},"sourceType":"module"}