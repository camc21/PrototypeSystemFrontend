{"ast":null,"code":"import _regeneratorRuntime from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function GetServerSideProps(_x) {\n  return _GetServerSideProps.apply(this, arguments);\n}\n_c2 = GetServerSideProps;\n\nfunction _GetServerSideProps() {\n  _GetServerSideProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var isAuthenticated;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            isAuthenticated = function isAuthenticated(req) {\n              var _req$headers;\n\n              if (!(req !== null && req !== void 0 && (_req$headers = req.headers) !== null && _req$headers !== void 0 && _req$headers.cookie)) {\n                return undefined;\n              }\n\n              var match = req.headers.cookie.split(';').find(function (item) {\n                return item.trim().startsWith('token');\n              });\n\n              if (!match) {\n                return undefined;\n              }\n\n              return match.split('=')[1];\n            };\n\n            if (!isAuthenticated(ctx.req)) {\n              ctx.res.writeHead(303, {\n                Location: '/login'\n              });\n              ctx.res.end();\n            }\n\n            return _context.abrupt(\"return\", {\n              props: {}\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _GetServerSideProps.apply(this, arguments);\n}\n\n_c = GetServerSideProps;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetServerSideProps\");\n$RefreshReg$(_c2, \"GetServerSideProps\");","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/components/getServerSideProps.jsx"],"names":["GetServerSideProps","ctx","isAuthenticated","req","headers","cookie","undefined","match","split","find","item","trim","startsWith","res","writeHead","Location","end","props"],"mappings":";;AAAA,gBAAsBA,kBAAtB;AAAA;AAAA;MAAsBA,kB;;;iFAAf,iBAAkCC,GAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AACGC,YAAAA,eADH,GACqB,SAAlBA,eAAkB,CAACC,GAAD,EAAS;AAAA;;AAC/B,kBAAI,EAACA,GAAD,aAACA,GAAD,+BAACA,GAAG,CAAEC,OAAN,yCAAC,aAAcC,MAAf,CAAJ,EAA2B;AACzB,uBAAOC,SAAP;AACD;;AAED,kBAAMC,KAAK,GAAGJ,GAAG,CAACC,OAAJ,CAAYC,MAAZ,CACXG,KADW,CACL,GADK,EAEXC,IAFW,CAEN,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAACC,IAAL,GAAYC,UAAZ,CAAuB,OAAvB,CAAV;AAAA,eAFM,CAAd;;AAIA,kBAAI,CAACL,KAAL,EAAY;AACV,uBAAOD,SAAP;AACD;;AAED,qBAAOC,KAAK,CAACC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAP;AACD,aAfE;;AAiBH,gBAAI,CAACN,eAAe,CAACD,GAAG,CAACE,GAAL,CAApB,EAA+B;AAC7BF,cAAAA,GAAG,CAACY,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAAvB;AACAd,cAAAA,GAAG,CAACY,GAAJ,CAAQG,GAAR;AACD;;AApBE,6CAsBI;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAtBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;KAAejB,kB","sourcesContent":["export async function GetServerSideProps(ctx) {\r\n    const isAuthenticated = (req) => {\r\n      if (!req?.headers?.cookie) {\r\n        return undefined;\r\n      }\r\n  \r\n      const match = req.headers.cookie\r\n        .split(';')\r\n        .find((item) => item.trim().startsWith('token'));\r\n  \r\n      if (!match) {\r\n        return undefined;\r\n      }\r\n  \r\n      return match.split('=')[1];\r\n    };\r\n  \r\n    if (!isAuthenticated(ctx.req)) {\r\n      ctx.res.writeHead(303, { Location: '/login' });\r\n      ctx.res.end();\r\n    }\r\n  \r\n    return { props: {} };\r\n  }"]},"metadata":{},"sourceType":"module"}