{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\PROJETOS\\\\PrototypeSystemFrontend\\\\pages\\\\anime\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Button } from 'primereact/button';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Fieldset } from 'primereact/fieldset';\nimport { AnimeDataService } from '../../services/AnimeDataService';\nexport var __N_SSP = true;\nexport default function Anime(props) {\n  _s();\n\n  var _this = this;\n\n  console.log('Anime');\n\n  var _useState = useState([]),\n      listaAnimes = _useState[0],\n      setListaAnimes = _useState[1];\n\n  var _useState2 = useState({}),\n      animeSelecionado = _useState2[0],\n      setAnimeSelecionado = _useState2[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    listarAnimes();\n  }, []);\n\n  function listarAnimes() {\n    AnimeDataService.listarAnimes().then(function (response) {\n      console.log(response.data);\n      setListaAnimes(response.data);\n    });\n  }\n\n  function listarAnimesPorId(idAnime) {\n    AnimeDataService.listarAnimesPorId(idAnime).then(function (response) {\n      console.log(response.data);\n      setAnimeSelecionado(response.data);\n    });\n  }\n\n  var actionBodyTemplate = function actionBodyTemplate(rowData) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: '10px'\n        },\n        icon: \"pi pi-pencil\",\n        className: \"p-button-rounded p-button-success p-mr-2\",\n        onClick: function onClick() {\n          return console.log(rowData);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-trash\",\n        className: \"p-button-rounded p-button-warning\",\n        onClick: function onClick() {\n          return console.log(rowData);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Fieldset, {\n      legend: \"Anime\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          value: listaAnimes,\n          selectionMode: \"single\",\n          selection: animeSelecionado,\n          onSelectionChange: function onSelectionChange(e) {\n            setAnimeSelecionado(e.value);\n          },\n          dataKey: \"idAnime\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            field: \"nome\",\n            header: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"temporada\",\n            header: \"Temporada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"possuiManga\",\n            header: \"Possui mang\\xE1 ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            body: actionBodyTemplate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Anime, \"+Cjm7NxDj86hSkjPFd41PSWRTzA=\", false, function () {\n  return [useRouter];\n});\n\n_c = Anime;\n\nvar _c;\n\n$RefreshReg$(_c, \"Anime\");","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/pages/anime/index.jsx"],"names":["React","useState","useEffect","useRouter","Button","DataTable","Column","Fieldset","AnimeDataService","Anime","props","console","log","listaAnimes","setListaAnimes","animeSelecionado","setAnimeSelecionado","router","listarAnimes","then","response","data","listarAnimesPorId","idAnime","actionBodyTemplate","rowData","marginRight","e","value"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,SAASC,gBAAT,QAAiC,iCAAjC;;AA4BA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AAAA;;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AADiC,kBAGKX,QAAQ,CAAC,EAAD,CAHb;AAAA,MAG1BY,WAH0B;AAAA,MAGbC,cAHa;;AAAA,mBAIeb,QAAQ,CAAC,EAAD,CAJvB;AAAA,MAI1Bc,gBAJ0B;AAAA,MAIRC,mBAJQ;;AAMjC,MAAMC,MAAM,GAAGd,SAAS,EAAxB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACZgB,IAAAA,YAAY;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,YAAT,GAAuB;AACnBV,IAAAA,gBAAgB,CAACU,YAAjB,GAAgCC,IAAhC,CAAqC,UAAAC,QAAQ,EAAI;AAC7CT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACC,IAArB;AACAP,MAAAA,cAAc,CAACM,QAAQ,CAACC,IAAV,CAAd;AACH,KAHD;AAIH;;AAED,WAASC,iBAAT,CAA2BC,OAA3B,EAAmC;AAC/Bf,IAAAA,gBAAgB,CAACc,iBAAjB,CAAmCC,OAAnC,EAA4CJ,IAA5C,CAAiD,UAAAC,QAAQ,EAAI;AACzDT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACC,IAArB;AACAL,MAAAA,mBAAmB,CAACI,QAAQ,CAACC,IAAV,CAAnB;AACH,KAHD;AAIH;;AAED,MAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,OAAD,EAAa;AACpC,wBACI;AAAA,8BACI,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAACC,UAAAA,WAAW,EAAE;AAAd,SAAf;AAAsC,QAAA,IAAI,EAAC,cAA3C;AAA0D,QAAA,SAAS,EAAC,0CAApE;AAA+G,QAAA,OAAO,EAAE;AAAA,iBAAMf,OAAO,CAACC,GAAR,CAAYa,OAAZ,CAAN;AAAA;AAAxH;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,aAAb;AAA2B,QAAA,SAAS,EAAC,mCAArC;AAAyE,QAAA,OAAO,EAAE;AAAA,iBAAMd,OAAO,CAACC,GAAR,CAAYa,OAAZ,CAAN;AAAA;AAAlF;AAAA;AAAA;AAAA;AAAA,eAFJ;AAAA,oBADJ;AAMH,GAPD;;AASA,sBACI;AAAA,2BACI,QAAC,QAAD;AAAU,MAAA,MAAM,EAAC,OAAjB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACI,QAAC,SAAD;AACI,UAAA,KAAK,EAAEZ,WADX;AAEI,UAAA,aAAa,EAAC,QAFlB;AAGI,UAAA,SAAS,EAAEE,gBAHf;AAII,UAAA,iBAAiB,EAAE,2BAAAY,CAAC,EAAI;AAACX,YAAAA,mBAAmB,CAACW,CAAC,CAACC,KAAH,CAAnB;AAA6B,WAJ1D;AAKI,UAAA,OAAO,EAAC,SALZ;AAAA,kCAMI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAqB,YAAA,MAAM,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,WAAd;AAA0B,YAAA,MAAM,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,aAAd;AAA4B,YAAA,MAAM,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAEJ;AAAd;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAmBH;;GAtDuBf,K;UAMLN,S;;;KANKM,K","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport { Button } from 'primereact/button';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Fieldset } from 'primereact/fieldset';\r\n\r\nimport { AnimeDataService } from '../../services/AnimeDataService';\r\n\r\nexport async function getServerSideProps(ctx) {\r\n    const isAuthenticated = (req) => {\r\n      if (!req?.headers?.cookie) {\r\n        return undefined;\r\n      }\r\n  \r\n      const match = req.headers.cookie\r\n        .split(';')\r\n        .find((item) => item.trim().startsWith('token'));\r\n  \r\n      if (!match) {\r\n        return undefined;\r\n      }\r\n  \r\n      return match.split('=')[1];\r\n    };\r\n  \r\n    if (!isAuthenticated(ctx.req)) {\r\n      ctx.res.writeHead(303, { Location: '/login' });\r\n      ctx.res.end();\r\n    }\r\n  \r\n    return { props: {} };\r\n  }\r\n\r\n\r\nexport default function Anime(props) {\r\n    console.log('Anime');\r\n\r\n    const [listaAnimes, setListaAnimes] = useState([]);\r\n    const [animeSelecionado, setAnimeSelecionado] = useState({});\r\n\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        listarAnimes();\r\n    }, [])\r\n\r\n    function listarAnimes(){\r\n        AnimeDataService.listarAnimes().then(response => {\r\n            console.log(response.data);\r\n            setListaAnimes(response.data);\r\n        })\r\n    }\r\n\r\n    function listarAnimesPorId(idAnime){\r\n        AnimeDataService.listarAnimesPorId(idAnime).then(response => {\r\n            console.log(response.data);\r\n            setAnimeSelecionado(response.data);\r\n        })\r\n    }\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <Button style={{marginRight: '10px'}} icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-success p-mr-2\" onClick={() => console.log(rowData)} />\r\n                <Button icon=\"pi pi-trash\" className=\"p-button-rounded p-button-warning\" onClick={() => console.log(rowData)} />\r\n            </>\r\n        );\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Fieldset legend=\"Anime\">\r\n                <div className='container'>\r\n                    <DataTable \r\n                        value={listaAnimes}\r\n                        selectionMode=\"single\"\r\n                        selection={animeSelecionado}\r\n                        onSelectionChange={e => {setAnimeSelecionado(e.value)}}\r\n                        dataKey=\"idAnime\">\r\n                        <Column field=\"nome\" header=\"Nome\"></Column>\r\n                        <Column field=\"temporada\" header=\"Temporada\"></Column>\r\n                        <Column field=\"possuiManga\" header=\"Possui mangá ?\"></Column>\r\n                        <Column body={actionBodyTemplate}></Column>\r\n                    </DataTable>\r\n                </div>\r\n            </Fieldset>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}