{"ast":null,"code":"import _regeneratorRuntime from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/PROJETOS/PrototypeSystemFrontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useRouter } from 'next/router';\nvar baseUrl = \"http://localhost:8081\";\nexport var LoginDataService = {\n  logIn: logIn,\n  logOut: logOut,\n  isLogged: isLogged,\n  valiteToken: valiteToken\n};\n\nfunction logIn(username, password) {\n  var data = {\n    username: username,\n    password: password\n  };\n  return axios.post(baseUrl + '/auth/signin', data, {});\n}\n\nfunction logOut() {\n  _s();\n\n  var router = useRouter();\n  localStorage.removeItem('accessToken');\n  router.push('/');\n}\n\n_s(logOut, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\nfunction isLogged() {\n  var token = localStorage.getItem('accessToken');\n  console.log(token);\n  return token;\n}\n\nfunction valiteToken() {\n  return _valiteToken.apply(this, arguments);\n}\n\nfunction _valiteToken() {\n  _valiteToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var token;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            token = localStorage.getItem('accesToken');\n            return _context.abrupt(\"return\", axios.get(baseUrl + '/validateToken', token, {}));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _valiteToken.apply(this, arguments);\n}","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/services/LoginDataService.jsx"],"names":["axios","useRouter","baseUrl","LoginDataService","logIn","logOut","isLogged","valiteToken","username","password","data","post","router","localStorage","removeItem","push","token","getItem","console","log","get"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,IAAMC,OAAO,0BAAb;AAEE,OAAO,IAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,KAAK,EAALA,KAD8B;AAE9BC,EAAAA,MAAM,EAANA,MAF8B;AAG9BC,EAAAA,QAAQ,EAARA,QAH8B;AAI9BC,EAAAA,WAAW,EAAXA;AAJ8B,CAAzB;;AAOP,SAASH,KAAT,CAAeI,QAAf,EAAyBC,QAAzB,EAAmC;AACjC,MAAIC,IAAI,GAAG;AAACF,IAAAA,QAAQ,EAARA,QAAD;AAAWC,IAAAA,QAAQ,EAARA;AAAX,GAAX;AACA,SAAOT,KAAK,CAACW,IAAN,CAAWT,OAAO,GAAC,cAAnB,EAAmCQ,IAAnC,EAAyC,EAAzC,CAAP;AACD;;AAED,SAASL,MAAT,GAAkB;AAAA;;AAChB,MAAMO,MAAM,GAAGX,SAAS,EAAxB;AACAY,EAAAA,YAAY,CAACC,UAAb,CAAwB,aAAxB;AACAF,EAAAA,MAAM,CAACG,IAAP,CAAY,GAAZ;AACD;;GAJQV,M;UACQJ,S;;;AAKjB,SAASK,QAAT,GAAoB;AAClB,MAAMU,KAAK,GAAGH,YAAY,CAACI,OAAb,CAAqB,aAArB,CAAd;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,SAAOA,KAAP;AACD;;SAEcT,W;;;;;0EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACQS,YAAAA,KADR,GACgBH,YAAY,CAACI,OAAb,CAAqB,YAArB,CADhB;AAAA,6CAESjB,KAAK,CAACoB,GAAN,CAAUlB,OAAO,GAAC,gBAAlB,EAAoCc,KAApC,EAA4C,EAA5C,CAFT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import axios from \"axios\";\r\nimport { useRouter } from 'next/router'\r\n\r\nconst baseUrl = `http://localhost:8081`;\r\n\r\n  export const LoginDataService = {\r\n    logIn,\r\n    logOut,\r\n    isLogged,\r\n    valiteToken,\r\n  };\r\n\r\n  function logIn(username, password) {\r\n    let data = {username, password}\r\n    return axios.post(baseUrl+'/auth/signin', data, {})\r\n  }\r\n\r\n  function logOut() {\r\n    const router = useRouter();\r\n    localStorage.removeItem('accessToken');\r\n    router.push('/')\r\n  }\r\n\r\n  function isLogged() {\r\n    const token = localStorage.getItem('accessToken');\r\n    console.log(token);\r\n    return token;\r\n  }\r\n\r\n  async function valiteToken() {\r\n    const token = localStorage.getItem('accesToken');\r\n    return axios.get(baseUrl+'/validateToken', token , {});\r\n  }"]},"metadata":{},"sourceType":"module"}