{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\PROJETOS\\\\PrototypeSystemFrontend\\\\pages\\\\anime\\\\index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Button } from 'primereact/button';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Fieldset } from 'primereact/fieldset';\nimport { AnimeDataService } from '../../services/AnimeDataService';\nimport Cookies from 'js-cookie';\nimport withPrivateRoute from '../../components/withPrivateRoute'; // export async function getServerSideProps(ctx) {\n//     const isAuthenticated = (req) => {\n//       if (!req?.headers?.cookie) {\n//         return undefined;\n//       }\n//       const match = req.headers.cookie\n//         .split(';')\n//         .find((item) => item.trim().startsWith('token='));\n//       if (!match) {\n//         return undefined;\n//       }\n//       return match.split('=')[1];\n//     };\n//     if (!isAuthenticated(ctx.req)) {\n//       ctx.res.writeHead(303, { Location: '/login' });\n//       ctx.res.end();\n//     }\n//     return { props: {} };\n//   }\n\nconst Anime = () => {\n  console.log('Anime');\n  const {\n    0: listaAnimes,\n    1: setListaAnimes\n  } = useState([]);\n  const {\n    0: animeSelecionado,\n    1: setAnimeSelecionado\n  } = useState({});\n  const router = useRouter();\n  useEffect(() => {\n    listarAnimes();\n    console.log(Cookies.get('token'));\n  }, []);\n\n  function listarAnimes() {\n    AnimeDataService.listarAnimes().then(response => {\n      console.log(response.data);\n      setListaAnimes(response.data);\n    });\n  }\n\n  function listarAnimesPorId(idAnime) {\n    AnimeDataService.listarAnimesPorId(idAnime).then(response => {\n      console.log(response.data);\n      setAnimeSelecionado(response.data);\n    });\n  }\n\n  const actionBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          marginRight: '10px'\n        },\n        icon: \"pi pi-pencil\",\n        className: \"p-button-rounded p-button-success p-mr-2\",\n        onClick: () => console.log(rowData)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-trash\",\n        className: \"p-button-rounded p-button-warning\",\n        onClick: () => console.log(rowData)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Fieldset, {\n      legend: \"Anime\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          value: listaAnimes,\n          selectionMode: \"single\",\n          selection: animeSelecionado,\n          onSelectionChange: e => {\n            setAnimeSelecionado(e.value);\n          },\n          dataKey: \"idAnime\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            field: \"nome\",\n            header: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"temporada\",\n            header: \"Temporada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"possuiManga\",\n            header: \"Possui mang\\xE1 ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            body: actionBodyTemplate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\nAnime.getInitialProps = async props => {\n  console.info('##### Congratulations! You are authorized! ######', props);\n  return {};\n};\n\nexport default withPrivateRoute(Anime);","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/pages/anime/index.jsx"],"names":["React","useState","useEffect","useRouter","Button","DataTable","Column","Fieldset","AnimeDataService","Cookies","withPrivateRoute","Anime","console","log","listaAnimes","setListaAnimes","animeSelecionado","setAnimeSelecionado","router","listarAnimes","get","then","response","data","listarAnimesPorId","idAnime","actionBodyTemplate","rowData","marginRight","e","value","getInitialProps","props","info"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router'\r\n\r\nimport { Button } from 'primereact/button';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Fieldset } from 'primereact/fieldset';\r\n\r\nimport { AnimeDataService } from '../../services/AnimeDataService';\r\nimport Cookies from 'js-cookie';\r\nimport withPrivateRoute from '../../components/withPrivateRoute';\r\n\r\n// export async function getServerSideProps(ctx) {\r\n//     const isAuthenticated = (req) => {\r\n//       if (!req?.headers?.cookie) {\r\n//         return undefined;\r\n//       }\r\n  \r\n//       const match = req.headers.cookie\r\n//         .split(';')\r\n//         .find((item) => item.trim().startsWith('token='));\r\n  \r\n//       if (!match) {\r\n//         return undefined;\r\n//       }\r\n  \r\n//       return match.split('=')[1];\r\n//     };\r\n  \r\n//     if (!isAuthenticated(ctx.req)) {\r\n//       ctx.res.writeHead(303, { Location: '/login' });\r\n//       ctx.res.end();\r\n//     }\r\n  \r\n//     return { props: {} };\r\n//   }\r\n\r\n\r\nconst Anime = () => {\r\n    console.log('Anime');\r\n\r\n    const [listaAnimes, setListaAnimes] = useState([]);\r\n    const [animeSelecionado, setAnimeSelecionado] = useState({});\r\n\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        listarAnimes();\r\n        console.log(Cookies.get('token'));\r\n    }, [])\r\n\r\n    function listarAnimes(){\r\n        AnimeDataService.listarAnimes().then(response => {\r\n            console.log(response.data);\r\n            setListaAnimes(response.data);\r\n        })\r\n    }\r\n\r\n    function listarAnimesPorId(idAnime){\r\n        AnimeDataService.listarAnimesPorId(idAnime).then(response => {\r\n            console.log(response.data);\r\n            setAnimeSelecionado(response.data);\r\n        })\r\n    }\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <>\r\n                <Button style={{marginRight: '10px'}} icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-success p-mr-2\" onClick={() => console.log(rowData)} />\r\n                <Button icon=\"pi pi-trash\" className=\"p-button-rounded p-button-warning\" onClick={() => console.log(rowData)} />\r\n            </>\r\n        );\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Fieldset legend=\"Anime\">\r\n                <div className='container'>\r\n                    <DataTable \r\n                        value={listaAnimes}\r\n                        selectionMode=\"single\"\r\n                        selection={animeSelecionado}\r\n                        onSelectionChange={e => {setAnimeSelecionado(e.value)}}\r\n                        dataKey=\"idAnime\">\r\n                        <Column field=\"nome\" header=\"Nome\"></Column>\r\n                        <Column field=\"temporada\" header=\"Temporada\"></Column>\r\n                        <Column field=\"possuiManga\" header=\"Possui mangá ?\"></Column>\r\n                        <Column body={actionBodyTemplate}></Column>\r\n                    </DataTable>\r\n                </div>\r\n            </Fieldset>\r\n        </>\r\n    )\r\n}\r\n\r\nAnime.getInitialProps = async props => {\r\n    console.info('##### Congratulations! You are authorized! ######', props);\r\n    return {};\r\n  };\r\n\r\n  export default withPrivateRoute(Anime);"]},"metadata":{},"sourceType":"module"}