{"ast":null,"code":"import axios from \"axios\";\nimport { useRouter } from 'next/router';\nconst baseUrl = `http://localhost:8081`;\nexport const LoginDataService = {\n  logIn,\n  logOut,\n  isLogged\n};\n\nasync function logIn(username, password) {\n  let data = {\n    username,\n    password\n  };\n  axios.post(baseUrl + '/auth/signin', data, {}).then(response => {\n    return response.data;\n  }).then(data => {\n    console.log(data);\n  }).catch(error => {\n    console.log(error);\n    return error.response.data.error;\n  });\n}\n\nfunction logOut() {\n  const router = useRouter();\n  localStorage.removeItem('accessToken');\n  router.push('/');\n}\n\nfunction isLogged() {\n  if (localStorage.getItem('accessToken') !== null && localStorage.getItem('accessToken') !== undefined) {\n    console.log('true');\n    return true;\n  }\n\n  console.log('false');\n  return false;\n}","map":{"version":3,"sources":["D:/PROJETOS/PrototypeSystemFrontend/services/LoginDataService.jsx"],"names":["axios","useRouter","baseUrl","LoginDataService","logIn","logOut","isLogged","username","password","data","post","then","response","console","log","catch","error","router","localStorage","removeItem","push","getItem","undefined"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,MAAMC,OAAO,GAAI,uBAAjB;AAEE,OAAO,MAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,KAD8B;AAE9BC,EAAAA,MAF8B;AAG9BC,EAAAA;AAH8B,CAAzB;;AAMP,eAAeF,KAAf,CAAqBG,QAArB,EAA+BC,QAA/B,EAAyC;AACvC,MAAIC,IAAI,GAAG;AAACF,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAAX;AACAR,EAAAA,KAAK,CAACU,IAAN,CAAWR,OAAO,GAAG,cAArB,EAAqCO,IAArC,EAA2C,EAA3C,EACCE,IADD,CACMC,QAAQ,IAAG;AACf,WAAOA,QAAQ,CAACH,IAAhB;AACD,GAHD,EAGGE,IAHH,CAGQF,IAAI,IAAI;AACdI,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACD,GALD,EAKGM,KALH,CAKSC,KAAK,IAAI;AAChBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA,WAAOA,KAAK,CAACJ,QAAN,CAAeH,IAAf,CAAoBO,KAA3B;AACD,GARD;AASD;;AAED,SAASX,MAAT,GAAkB;AAChB,QAAMY,MAAM,GAAGhB,SAAS,EAAxB;AACAiB,EAAAA,YAAY,CAACC,UAAb,CAAwB,aAAxB;AACAF,EAAAA,MAAM,CAACG,IAAP,CAAY,GAAZ;AACD;;AAED,SAASd,QAAT,GAAoB;AAClB,MAAGY,YAAY,CAACG,OAAb,CAAqB,aAArB,MAAwC,IAAxC,IAAgDH,YAAY,CAACG,OAAb,CAAqB,aAArB,MAAwCC,SAA3F,EAAqG;AACnGT,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAO,IAAP;AACD;;AACDD,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAO,KAAP;AACD","sourcesContent":["import axios from \"axios\";\r\nimport { useRouter } from 'next/router'\r\n\r\nconst baseUrl = `http://localhost:8081`;\r\n\r\n  export const LoginDataService = {\r\n    logIn,\r\n    logOut,\r\n    isLogged,\r\n  };\r\n\r\n  async function logIn(username, password) {\r\n    let data = {username, password}\r\n    axios.post(baseUrl + '/auth/signin', data, {})\r\n    .then(response =>{\r\n      return response.data;\r\n    }).then(data => {\r\n      console.log(data);\r\n    }).catch(error => {\r\n      console.log(error);\r\n      return error.response.data.error\r\n    })\r\n  }\r\n\r\n  function logOut() {\r\n    const router = useRouter();\r\n    localStorage.removeItem('accessToken');\r\n    router.push('/')\r\n  }\r\n\r\n  function isLogged() {\r\n    if(localStorage.getItem('accessToken') !== null && localStorage.getItem('accessToken') !== undefined){\r\n      console.log('true');\r\n      return true;\r\n    }\r\n    console.log('false');\r\n    return false;\r\n  }"]},"metadata":{},"sourceType":"module"}